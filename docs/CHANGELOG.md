# Журнал изменений

## [Unreleased] - Система аутентификации и личный кабинет

### Добавлено
- Создана модель `ExtendedUser` для расширенного профиля пользователя
- Добавлен сервис аутентификации `AuthService`
- Реализована базовая система JWT-токенов
- Добавлена поддержка email/password аутентификации
- Добавлены эндпойнты управления профилем:
  - PATCH `/auth/profile` - Обновление данных профиля
  - POST `/auth/change-password` - Смена пароля
  - PUT `/auth/notifications` - Настройка уведомлений
- Реализована система настроек уведомлений
- Добавлена поддержка смены языка и часового пояса

### Технические детали
- Создана новая таблица `extended_users` с связью к основной таблице пользователей
- Добавлены новые зависимости для работы с JWT и хешированием паролей
- Реализована система блокировки после неудачных попыток входа
- Добавлена поддержка мультиязычности и часовых поясов

### API Endpoints
- Создано FastAPI приложение с базовой структурой
- Реализованы основные эндпоинты аутентификации:
  - POST `/auth/register` - Регистрация нового пользователя
  - POST `/auth/token` - Получение JWT токена (вход)
  - GET `/auth/me` - Получение профиля текущего пользователя
  - POST `/auth/logout` - Выход из системы

### Безопасность
- Пароли хранятся в хешированном виде (bcrypt)
- Реализована система JWT токенов для авторизации
- Добавлена защита от брутфорс атак
- Настроена система блокировки аккаунта
- Настроены CORS заголовки для API

### Структура проекта
- Создана структура API:
  - `api/main.py` - Основной файл FastAPI приложения
  - `api/routers/` - Маршрутизация запросов
  - `api/schemas/` - Pydantic модели для валидации данных
  - `api/dependencies/` - Зависимости FastAPI (middleware)

### Миграции
- Создана миграция для таблицы `extended_users`
- Сохранена обратная совместимость с существующими данными
- Добавлены необходимые индексы для оптимизации запросов 