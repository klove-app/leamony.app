<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><title>RunTracker Bot - Авторизация</title><link rel="stylesheet" href="/css/styles.css"></head><body><header><nav><div class="logo"><a href="/">RunTracker Bot</a></div><div class="nav-links"><a href="/" class="nav-link">Главная</a></div></nav></header><main><div class="auth-wrapper"><div class="auth-content"><div class="auth-tabs"><button class="auth-tab active" data-tab="login">Вход</button><button class="auth-tab" data-tab="register">Регистрация</button></div><div class="auth-forms"><form id="loginForm" class="auth-form active"><div class="form-group"><label for="loginEmail">Email</label><input type="email" id="loginEmail" required></div><div class="form-group"><label for="loginPassword">Пароль</label><input type="password" id="loginPassword" required></div><div class="form-error" id="loginError"></div><button type="submit" class="button primary">Войти</button></form><form id="registerForm" class="auth-form"><div class="form-group"><label for="registerEmail">Email</label><input type="email" id="registerEmail" required></div><div class="form-group"><label for="registerPassword">Пароль</label><input type="password" id="registerPassword" required></div><div class="form-error" id="registerError"></div><button type="submit" class="button primary">Зарегистрироваться</button></form></div></div></div></main><script src="/js/api.js"></script><script>const tabs=document.querySelectorAll(".auth-tab");const forms=document.querySelectorAll(".auth-form");tabs.forEach(tab=>{tab.addEventListener("click",()=>{const targetForm=tab.dataset.tab;tabs.forEach(t=>t.classList.remove("active"));tab.classList.add("active");forms.forEach(form=>{form.classList.remove("active");if(form.id===`${targetForm}Form`){form.classList.add("active")}})})});document.getElementById("loginForm").addEventListener("submit",async e=>{e.preventDefault();const email=document.getElementById("loginEmail").value;const password=document.getElementById("loginPassword").value;const errorElement=document.getElementById("loginError");try{const data=await login(email,password);localStorage.setItem("access_token",data.access_token);window.location.href="/dashboard.html"}catch(error){errorElement.textContent=error.message}});document.getElementById("registerForm").addEventListener("submit",async e=>{e.preventDefault();const email=document.getElementById("registerEmail").value;const password=document.getElementById("registerPassword").value;const errorElement=document.getElementById("registerError");try{await register(email,password);const loginData=await login(email,password);localStorage.setItem("access_token",loginData.access_token);window.location.href="/dashboard.html"}catch(error){errorElement.textContent=error.message}});</script></body></html>
